{"ast":null,"code":"import api from '../../../../app/ApiConfig';\nimport { Apis } from '../../../../config';\nimport Cookies from 'js-cookie';\nimport { NotificationManager } from 'react-notifications';\nconst getUserLogin = async data => {\n  try {\n    let result = await api.post(Apis.GetUserLogin, data, {\n      withCredentials: true,\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n      }\n    });\n    if (result.data.error) {\n      NotificationManager.error(result.data.error);\n      return null;\n    }\n    return result.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\nconst getUserRegister = async data => {\n  try {\n    let result = await api.post(Apis.GetUserRegsiter, data);\n    if (result.data.error) {\n      NotificationManager.error(result.data.error);\n      return null;\n    }\n    return result.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\nconst authenticate = async (data, email) => {\n  if (typeof window !== \"undefined\") {\n    sessionStorage.setItem('_sid', data);\n    sessionStorage.setItem('email', email);\n    setTimeout(function () {\n      window.location.reload();\n    }, 1000);\n  }\n};\nconst getCustomerDetail = async email => {\n  try {\n    let result = await api.get(Apis.GetCustomerDetails + email);\n    if (result.data.error) {\n      NotificationManager.error(result.data.error);\n      return null;\n    }\n    return result.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\nconst getCustomerUpdate = async data => {\n  try {\n    let result = await api.post(Apis.GetCustomerUpdateDetails, {\n      data\n    });\n    if (result.data.error) {\n      NotificationManager.error(result.data.error);\n      return null;\n    }\n    return result.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\nconst authenticateByCart = async (token, email) => {\n  if (typeof window !== \"undefined\") {\n    sessionStorage.setItem('_sid', token);\n    sessionStorage.setItem('email', email);\n    setTimeout(function () {\n      window.location.href = \"/checkout\";\n    }, 1000);\n  } else {\n    NotificationManager.error(\"Please check your login\", \"Input Error\");\n  }\n};\nconst logout = next => {\n  if (typeof window !== \"undefined\") {\n    sessionStorage.removeItem('_sid');\n    sessionStorage.removeItem('email');\n    window.location.href = \"/\";\n    // next();\n  }\n};\n\nconst isAuthenticate = () => {\n  if (typeof window == 'undefined') {\n    return false;\n  }\n  return sessionStorage.getItem('_sid');\n};\nexport default {\n  getUserLogin,\n  authenticate,\n  isAuthenticate,\n  authenticateByCart,\n  getUserRegister,\n  getCustomerDetail,\n  getCustomerUpdate,\n  logout\n};","map":{"version":3,"names":["api","Apis","Cookies","NotificationManager","getUserLogin","data","result","post","GetUserLogin","withCredentials","headers","error","console","log","getUserRegister","GetUserRegsiter","authenticate","email","window","sessionStorage","setItem","setTimeout","location","reload","getCustomerDetail","get","GetCustomerDetails","getCustomerUpdate","GetCustomerUpdateDetails","authenticateByCart","token","href","logout","next","removeItem","isAuthenticate","getItem"],"sources":["C:/Users/Ngan/Desktop/LTTH/Full-Ecommerce-template/ecommerce/website/src/app/components/services/GetUserLogin/index.js"],"sourcesContent":["import api from '../../../../app/ApiConfig';\nimport { Apis } from '../../../../config';\nimport Cookies from 'js-cookie';\nimport { NotificationManager } from 'react-notifications';\n\nconst getUserLogin = async (data) => {\n    try {\n        let result = await api.post(Apis.GetUserLogin, data, {\n            withCredentials: true,\n            headers: {\n                'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json'\n            }\n        });\n        if (result.data.error) {\n            NotificationManager.error(result.data.error);\n            return null;\n        }\n        return result.data;\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n};\n\nconst getUserRegister = async (data) => {\n    try {\n        let result = await api.post(Apis.GetUserRegsiter, data);\n        if (result.data.error) {\n            NotificationManager.error(result.data.error);\n            return null;\n        }\n        return result.data;\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n};\n\nconst authenticate = async (data, email) => {\n    if (typeof window !== \"undefined\") {\n        sessionStorage.setItem('_sid', data)\n        sessionStorage.setItem('email', email)\n        setTimeout(\n            function () {\n                window.location.reload();\n            },\n            1000\n        );\n    }\n};\n\nconst getCustomerDetail = async (email) => {\n    try {\n        let result = await api.get(Apis.GetCustomerDetails + email);\n        if (result.data.error) {\n            NotificationManager.error(result.data.error);\n            return null;\n        }\n        return result.data;\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n};\n\nconst getCustomerUpdate = async (data) => {\n    try {\n        let result = await api.post(Apis.GetCustomerUpdateDetails,{data});\n        if (result.data.error) {\n            NotificationManager.error(result.data.error);\n            return null;\n        }\n        return result.data;\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n};\n\nconst authenticateByCart = async (token, email) => {\n    if (typeof window !== \"undefined\") {\n       sessionStorage.setItem('_sid', token)\n       sessionStorage.setItem('email', email)\n        setTimeout(\n            function () {\n                window.location.href = \"/checkout\";\n            },\n            1000\n        );\n    } else {\n        NotificationManager.error(\"Please check your login\", \"Input Error\");\n    }\n};\n\nconst logout = (next) => {\n    if (typeof window !== \"undefined\") {\n        sessionStorage.removeItem('_sid');\n        sessionStorage.removeItem('email');\n        window.location.href = \"/\";\n        // next();\n    }\n};\n\nconst isAuthenticate = () => {\n    if (typeof window == 'undefined') {\n        return false;\n    }\n    return sessionStorage.getItem('_sid');\n};\n\nexport default {\n    getUserLogin,\n    authenticate,\n    isAuthenticate,\n    authenticateByCart,\n    getUserRegister,\n    getCustomerDetail,\n    getCustomerUpdate,\n    logout,\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}