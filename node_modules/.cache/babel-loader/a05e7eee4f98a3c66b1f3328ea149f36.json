{"ast":null,"code":"import { ADD_TO_CART, REMOVE_FROM_CART, INCREASE_QUANTITY, DECREASE_QUANTITY } from \"./types\";\nexport const addToCart = product => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice();\n  let alreadyExists = false;\n  cartItems.forEach(x => {\n    if (x.id === product.id) {\n      alreadyExists = true;\n    }\n  });\n  if (!alreadyExists) {\n    cartItems.push({\n      ...product\n    });\n  }\n  dispatch({\n    type: ADD_TO_CART,\n    payload: {\n      cartItems\n    }\n  });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};\nexport const removeFromCart = product => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice().filter(x => x.id !== product.id);\n  dispatch({\n    type: REMOVE_FROM_CART,\n    payload: {\n      cartItems\n    }\n  });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};\nexport const incrementToCart = product => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice();\n  const selectProduct = cartItems.find(item => item.id === product.id);\n  const index = cartItems.indexOf(selectProduct);\n  const value = cartItems[index];\n  value.qty = value.qty + 1;\n  value.total = value.qty * value.netPrice;\n  dispatch({\n    type: INCREASE_QUANTITY,\n    payload: {\n      cartItems\n    }\n  });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};\nexport const decreaseToCart = product => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice();\n  const selectProduct = cartItems.find(item => item.id === product.id);\n  const index = cartItems.indexOf(selectProduct);\n  const value = cartItems[index];\n  if (value.qty > 1) {\n    value.qty = value.qty - 1;\n    value.total = value.qty * value.netPrice;\n  }\n  dispatch({\n    type: DECREASE_QUANTITY,\n    payload: {\n      cartItems\n    }\n  });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};","map":{"version":3,"names":["ADD_TO_CART","REMOVE_FROM_CART","INCREASE_QUANTITY","DECREASE_QUANTITY","addToCart","product","dispatch","getState","cartItems","cart","slice","alreadyExists","forEach","x","id","push","type","payload","localStorage","setItem","JSON","stringify","removeFromCart","filter","incrementToCart","selectProduct","find","item","index","indexOf","value","qty","total","netPrice","decreaseToCart"],"sources":["C:/Users/Ngan/Desktop/LTTH/Full-Ecommerce-template/ecommerce/website/src/app/store/actions/cartActions.js"],"sourcesContent":["import { ADD_TO_CART, REMOVE_FROM_CART, INCREASE_QUANTITY, DECREASE_QUANTITY } from \"./types\";\n\nexport const addToCart = (product) => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice();\n  let alreadyExists = false;\n  cartItems.forEach((x) => {\n    if (x.id === product.id) {\n      alreadyExists = true;\n    }\n  });\n  if (!alreadyExists) {\n    cartItems.push({ ...product });\n  }\n  dispatch({\n    type: ADD_TO_CART,\n    payload: { cartItems },\n  });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};\n\nexport const removeFromCart = (product) => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice().filter((x) => x.id !== product.id);\n  dispatch({ type: REMOVE_FROM_CART, payload: { cartItems } });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};\n\nexport const incrementToCart = (product) => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice()\n  const selectProduct = cartItems.find(item => item.id === product.id)\n  const index = cartItems.indexOf(selectProduct)\n  const value = cartItems[index]\n  value.qty = value.qty + 1;\n  value.total = value.qty * value.netPrice;\n\n  dispatch({\n    type: INCREASE_QUANTITY,\n    payload: { cartItems },\n  });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n}\n\nexport const decreaseToCart = (product) => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice()\n  const selectProduct = cartItems.find(item => item.id === product.id)\n  const index = cartItems.indexOf(selectProduct)\n  const value = cartItems[index]\n  if (value.qty > 1) {\n    value.qty = value.qty - 1;\n    value.total = value.qty * value.netPrice;\n  }\n  dispatch({ type: DECREASE_QUANTITY, payload: { cartItems } });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}